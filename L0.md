

---

# å…¥é—¨å²›å…³å¡æ¦‚è§ˆ
- [x] ç¬¬1å…³ LinuxåŸºç¡€çŸ¥è¯†
- ï¼ˆå¿…åšï¼‰å®ŒæˆSSHè¿æ¥ä¸ç«¯å£æ˜ å°„å¹¶è¿è¡Œ`hello_world.py`
- å°†LinuxåŸºç¡€å‘½ä»¤åœ¨å¼€å‘æœºä¸Šå®Œæˆä¸€é
- ä½¿ç”¨VScodeè¿œç¨‹è¿æ¥å¼€å‘æœºå¹¶åˆ›å»ºä¸€ä¸ªcondaç¯å¢ƒ

- [x] ç¬¬2å…³ PythonåŸºç¡€çŸ¥è¯†
- ï¼ˆå¿…åšï¼‰é€šè¿‡Leetcode 383
- ï¼ˆå¿…åšï¼‰VScodeè¿æ¥InternStudio debugç¬”è®°
- pipå®‰è£…åˆ°æŒ‡å®šç›®å½•

- [x] ç¬¬3å…³ GitåŸºç¡€çŸ¥è¯†
- æäº¤è‡ªæˆ‘ä»‹ç»
- æ„å»ºä¸ªäººé¡¹ç›®

- [x] ç¬¬4å…³ ç©è½¬HF/é­”æ­/é­”ä¹ç¤¾åŒº
- ï¼ˆå¿…åšï¼‰ä½¿ç”¨HF/é­”æ­/é­”ä¹ç¤¾åŒºä¸‹è½½æ¨¡å‹ï¼ˆè‡³å°‘ä¸‹è½½`config.json`å’Œ`model.safetensors.index.json`æ–‡ä»¶ï¼‰
- ï¼ˆä¼˜ç§€ä½œä¸šå¿…åšï¼‰å°†ä¸‹è½½å¥½çš„æ–‡ä»¶ä¸Šä¼ åˆ°å¯¹åº”HF/é­”æ­/é­”ä¹ç¤¾åŒº
- ï¼ˆä¼˜ç§€ä½œä¸šå¿…åšï¼‰åœ¨HFå¹³å°ä¸Šä½¿ç”¨Spaceså¹¶æŠŠintern_cobuildéƒ¨ç½²æˆåŠŸ

---


# ç¬¬1å…³ LinuxåŸºç¡€çŸ¥è¯†
## SSHåŠç«¯å£æ˜ å°„
### ä»€ä¹ˆæ˜¯SSH
SSHå…¨ç§°Secure Shellï¼Œä¸­æ–‡ç¿»è¯‘ä¸ºå®‰å…¨å¤–å£³ï¼Œå®ƒæ˜¯ä¸€ç§**ç½‘ç»œå®‰å…¨åè®®**ï¼Œé€šè¿‡åŠ å¯†å’Œè®¤è¯æœºåˆ¶å®ç°å®‰å…¨çš„è®¿é—®å’Œæ–‡ä»¶ä¼ è¾“ç­‰ä¸šåŠ¡ã€‚SSH åè®®é€šè¿‡å¯¹ç½‘ç»œæ•°æ®è¿›è¡ŒåŠ å¯†å’ŒéªŒè¯ï¼Œåœ¨ä¸å®‰å…¨çš„ç½‘ç»œç¯å¢ƒä¸­æä¾›äº†å®‰å…¨çš„ç½‘ç»œæœåŠ¡ã€‚

SSH æ˜¯ï¼ˆC/Sæ¶æ„ï¼‰ç”±**æœåŠ¡å™¨**å’Œ**å®¢æˆ·ç«¯**ç»„æˆï¼Œä¸ºå»ºç«‹å®‰å…¨çš„ SSH é€šé“ï¼ŒåŒæ–¹éœ€è¦å…ˆå»ºç«‹ TCP è¿æ¥ï¼Œç„¶ååå•†ä½¿ç”¨çš„ç‰ˆæœ¬å·å’Œå„ç±»ç®—æ³•ï¼Œå¹¶ç”Ÿæˆç›¸åŒçš„**ä¼šè¯å¯†é’¥**ç”¨äºåç»­çš„å¯¹ç§°åŠ å¯†ã€‚åœ¨å®Œæˆç”¨æˆ·è®¤è¯åï¼ŒåŒæ–¹å³å¯å»ºç«‹ä¼šè¯è¿›è¡Œæ•°æ®äº¤äº’ã€‚
### ä»€ä¹ˆæ˜¯ç«¯å£æ˜ å°„
ç«¯å£æ˜ å°„æ˜¯ä¸€ç§ç½‘ç»œæŠ€æœ¯ï¼Œå®ƒå¯ä»¥å°†å¤–ç½‘ä¸­çš„ä»»æ„ç«¯å£æ˜ å°„åˆ°å†…ç½‘ä¸­çš„ç›¸åº”ç«¯å£ï¼Œå®ç°å†…ç½‘ä¸å¤–ç½‘ä¹‹é—´çš„é€šä¿¡ã€‚é€šè¿‡ç«¯å£æ˜ å°„ï¼Œå¯ä»¥åœ¨å¤–ç½‘è®¿é—®å†…ç½‘ä¸­çš„æœåŠ¡æˆ–åº”ç”¨ï¼Œå®ç°è·¨è¶Šç½‘ç»œçš„ä¾¿æ·é€šä¿¡ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/b9a166bc8ef6480a8c776c2cc315d702.png)
åœ¨ä¸»æœºä¸Šè¿è¡Œç«¯å£æ˜ å°„å‘½ä»¤
```bash
ssh -p 37367 root@ssh.intern-ai.org.cn -CNg -L 7860:127.0.0.1:7860 -o StrictHostKeyChecking=no
```
ä¸ªäººPCä¼šè¿œç¨‹è¿æ¥åˆ°å¼€å‘æœºå”¯ä¸€æš´éœ²åœ¨å¤–çš„37367ç«¯å£ï¼Œï¼ˆè¿™ä¸ªåœ¨SSHçš„æ—¶å€™æåˆ°è¿‡æ¯ä¸ªäººçš„å¼€å‘æœºæš´éœ²çš„ç«¯å£éƒ½ä¸ä¸€æ ·ï¼‰ï¼Œå¹¶è®¾ç½®éš§é“é€‰é¡¹ã€‚æš´éœ²ç«¯å£æ˜¯ä½œä¸ºä¸­è½¬ç«™è¿›è¡Œæµé‡çš„è½¬å‘ã€‚
-Cï¼šå¯ç”¨å‹ç¼©ï¼Œå‡å°‘ä¼ è¾“æ•°æ®é‡ã€‚
-Nï¼šä¸æ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼Œåªå»ºç«‹éš§é“ã€‚
-gï¼šå…è®¸è¿œç¨‹ä¸»æœºè¿æ¥åˆ°æœ¬åœ°è½¬å‘çš„ç«¯å£ã€‚
å½“åœ¨ä¸ªäººPCä¸Šæ‰§è¡Œè¿™ä¸ªSSHå‘½ä»¤åï¼ŒSSHå®¢æˆ·ç«¯ä¼šåœ¨æœ¬åœ°æœºå™¨çš„7860ç«¯å£ä¸Šç›‘å¬ã€‚
ä»»ä½•å‘é€åˆ°æœ¬åœ°7860ç«¯å£çš„æµé‡ï¼Œéƒ½ä¼šè¢«SSHéš§é“è½¬å‘åˆ°è¿œç¨‹æœåŠ¡å™¨çš„127.0.0.1åœ°å€ä¸Šçš„7860ç«¯å£ã€‚
è¿™æ„å‘³ç€ï¼Œå³ä½¿å¼€å‘æœºçš„è¿™ä¸ªç«¯å£æ²¡æœ‰ç›´æ¥æš´éœ²ç»™å¤–éƒ¨ç½‘ç»œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è¿™ä¸ªéš§é“å®‰å…¨åœ°è®¿é—®è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„æœåŠ¡ã€‚
## å®æˆ˜
### 1.ä½¿ç”¨VScodeè¿œç¨‹è¿æ¥å¼€å‘æœº

ï¼ˆ1ï¼‰åˆ›å»ºå¼€å‘æœº
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/8bd14e1cf4604b5c966b37f48b48a849.png)
 ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/986e3d4d45304b09873260b4d80cf639.png)


ï¼ˆ2ï¼‰ é…ç½®SSHå¯†é’¥
ä½¿ç”¨RSAç®—æ³•ç”Ÿæˆå¯†é’¥ï¼Œå‘½ä»¤ä¸º`ssh-keygen -t rsa`ï¼š
***æ³¨æ„ï¼Œwindowsä¸­ä½¿ç”¨PowerShellè€Œä¸æ˜¯cmd***
ssh-keygenæ”¯æŒRSAå’ŒDSAä¸¤ç§è®¤è¯å¯†é’¥ã€‚
å¸¸ç”¨å‚æ•°åŒ…æ‹¬ï¼š
-tï¼šæŒ‡å®šå¯†é’¥ç±»å‹ï¼Œå¦‚dsaã€ecdsaã€ed25519ã€rsaã€‚
-bï¼šæŒ‡å®šå¯†é’¥é•¿åº¦ã€‚
-Cï¼šæ·»åŠ æ³¨é‡Šã€‚
-fï¼šæŒ‡å®šä¿å­˜å¯†é’¥çš„æ–‡ä»¶åã€‚
-iï¼šè¯»å–æœªåŠ å¯†çš„ssh-v2å…¼å®¹çš„ç§é’¥/å…¬é’¥æ–‡ä»¶ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/63298b38dd8d46ce881341fc033829e1.png)

ä½¿ç”¨Get-Contentå‘½ä»¤æŸ¥çœ‹ç”Ÿæˆçš„å¯†é’¥å¹¶å¤åˆ¶ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/e1a95a94ceea4c10b73275dd713a06d4.jpeg)
 
æ·»åŠ SSHå…¬é’¥ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/c2c7bafdddee4a5a8f2e8026e5bf17c8.jpeg)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/d4bde3c070ec4c3388a8f281e529f125.png)

æ·»åŠ å…¬é’¥æˆåŠŸï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/996ecbe0ad174f8191da4ecdbc0babaf.png)
é‡å¯ç»ˆç«¯
ï¼ˆ3ï¼‰ä½¿ç”¨VScodeè¿›è¡ŒSSHè¿œç¨‹è¿æ¥
å¤åˆ¶SSHè¿æ¥çš„ç™»é™†å‘½ä»¤ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/0ae7ee544ba24bf0b39c69c2400e752d.jpeg)
æ‰“å¼€æœ¬åœ°VScodeï¼Œå®‰è£…`Remote-SSH`æ’ä»¶ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/2d7eaeb8516a4324ad903cdc5ec47fb1.png)
ç‚¹å‡»ä¾§è¾¹æ çš„è¿œç¨‹è¿æ¥å›¾æ ‡ï¼Œåœ¨SSHä¸­ç‚¹å‡»â€œ+â€æŒ‰é’®ï¼Œæ·»åŠ å¼€å‘æœºSSHè¿æ¥çš„ç™»å½•å‘½ä»¤å¹¶å›è½¦ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/a0a8295e4fba4316a0d24ef41d21b944.png)

å¯ä½¿ç”¨é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œè‹¥è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š

```bash
Host ssh.intern-ai.org.cn #ä¸»æœºipä¹Ÿå¯ä»¥æ˜¯åŸŸå
  HostName ssh.intern-ai.org.cn #ä¸»æœºå
  Port 43637 #ä¸»æœºçš„SSHç«¯å£
  User root #ç™»å½•SSHä½¿ç”¨çš„ç”¨æˆ·
  #å¿½ç•¥æŒ‡çº¹éªŒè¯ï¼Œä½†æ˜¯åœ¨ä¸€èˆ¬çš„å®‰å…¨å®è·µä¸­ï¼Œä¸å»ºè®®éšæ„ç¦ç”¨ä¸¥æ ¼çš„ä¸»æœºå¯†é’¥æ£€æŸ¥ï¼š
  StrictHostKeyChecking no #è¡¨ç¤ºç¦ç”¨ä¸¥æ ¼çš„ä¸»æœºå¯†é’¥æ£€æŸ¥ã€‚è¿™æ„å‘³ç€å½“è¿æ¥åˆ°ä¸€ä¸ªæ–°çš„ SSH æœåŠ¡å™¨æ—¶ï¼Œä¸ä¼šä¸¥æ ¼éªŒè¯æœåŠ¡å™¨çš„ä¸»æœºå¯†é’¥ï¼Œå¯èƒ½ä¼šå¸¦æ¥ä¸€å®šçš„å®‰å…¨é£é™©
  UserKnownHostsFile /dev/null #å°†ç”¨æˆ·å·²çŸ¥çš„ä¸»æœºå¯†é’¥æ–‡ä»¶è®¾ç½®ä¸º /dev/null ï¼Œè¿™å®è´¨ä¸Šæ˜¯å¿½ç•¥äº†å¯¹å·²çŸ¥ä¸»æœºå¯†é’¥çš„è®°å½•å’Œä½¿ç”¨ã€‚
```
ç‚¹å‡»è¿æ¥è¯¥è¿œç¨‹å¼€å‘æœºï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/92c75a55d303471dafab7ab3193587a8.png)
`connected`è¡¨ç¤ºå¼€å‘æœºè¿æ¥æˆåŠŸï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/88d6065a46b043c78fb14c4fdccd8232.png)
å½“ä¸‹ä¸€æ¬¡è¿›è¡Œè¿œç¨‹è¿æ¥çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦è¾“å…¥ç™»å½•å‘½ä»¤ç­‰ä¿¡æ¯äº†ï¼Œåªéœ€è¦æ‰“å¼€VScodeçš„è¿œç¨‹è¿æ¥å°±å¯ä»¥çœ‹åˆ°ç¬¬ä¸€æ¬¡è¿æ¥çš„å¼€å‘æœºä¿¡æ¯ï¼Œä¸‹é¢çš„rootä»£è¡¨æˆ‘ä»¬ç¬¬ä¸€è¿æ¥å¼€å‘æœºæ—¶ä½¿ç”¨çš„æ˜¯/rootå·¥ä½œç›®å½•ã€‚
æŸ¥çœ‹/root/share/ç›®å½•ä¸‹çš„READMEæ–‡ä»¶ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/95afb56e71884137bdfcd88e78903f61.png)

### 2.åˆ›å»ºä¸€ä¸ªcondaç¯å¢ƒ
å•å‡»VScodeé¡µé¢åº•éƒ¨çŠ¶æ€æ ä¸­çš„â€œç»ˆç«¯â€å›¾æ ‡ï¼ˆé€šå¸¸æ˜¾ç¤ºä¸ºä¸¤ä¸ªå›¾æ ‡ä¸€ä¸ªXå’Œä¸€ä¸ªï¼ï¼‰ï¼Œå¯ä»¥å¿«é€Ÿæ‰“å¼€VScodeçš„ç»ˆç«¯é¢æ¿ã€‚ä½¿ç”¨`conda config --show`æŸ¥çœ‹condaçš„é»˜è®¤é…ç½®ï¼Œå‘ç°è¯¥å¼€å‘æœºæä¾›çš„condaå·²ä½¿ç”¨å›½å†…æ¸…åé•œåƒæºï¼Œæ— éœ€æ¢æºï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/8b4f24865e634b0a9cbcff2dea4692c9.png)
ä½¿ç”¨`conda env list`æŸ¥çœ‹å½“å‰condaä¸­çš„æ‰€æœ‰ç¯å¢ƒï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/1e0499905d6d4758baf376ddbe5d30d0.png)
ä½¿ç”¨`conda create -n L0 python=3.10`åˆ›å»ºä¸€ä¸ªæ–°ç¯å¢ƒ`L0`ï¼š
åˆ›å»ºè™šæ‹Ÿç¯å¢ƒçš„å¸¸ç”¨å‚æ•°å¦‚ä¸‹ï¼š
-n æˆ– --nameï¼šæŒ‡å®šè¦åˆ›å»ºçš„ç¯å¢ƒåç§°ã€‚
-c æˆ– --channelï¼šæŒ‡å®šé¢å¤–çš„è½¯ä»¶åŒ…é€šé“ã€‚
--cloneï¼šä»ç°æœ‰çš„ç¯å¢ƒå…‹éš†æ¥åˆ›å»ºæ–°ç¯å¢ƒã€‚
-p æˆ– --prefixï¼šæŒ‡å®šç¯å¢ƒçš„å®‰è£…è·¯å¾„ï¼ˆéé»˜è®¤ä½ç½®ï¼‰ã€‚-
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/80b7b995b3cf4cc0bc7612df5ba30259.png)
åˆ›å»ºåï¼Œå¯ä»¥åœ¨.condaç›®å½•ä¸‹çš„envsç›®å½•ä¸‹æ‰¾åˆ°ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/e93fc01d553d473296f6030ba9e14e7e.png)

### 3.å®Œæˆç«¯å£æ˜ å°„å¹¶è¿è¡Œ`hello_world.py`
åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œå‘½åä¸º`hello_world.py`ï¼Œå¹¶å°†ä»£ç å†…å®¹å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­å¹¶ä¿å­˜ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/b44682069f7a451899e6c98394966656.png)
`hello_world.py`ä»£ç å¦‚ä¸‹ï¼š
```python
import socket
import re
import gradio as gr
 
# è·å–ä¸»æœºå
def get_hostname():
    hostname = socket.gethostname()
    match = re.search(r'-(\d+)$', hostname)
    name = match.group(1)
    
    return name
 
# åˆ›å»º Gradio ç•Œé¢
with gr.Blocks(gr.themes.Soft()) as demo:
    html_code = f"""
            <p align="center">
            <a href="https://intern-ai.org.cn/home">
                <img src="https://intern-ai.org.cn/assets/headerLogo-4ea34f23.svg" alt="Logo" width="20%" style="border-radius: 5px;">
            </a>
            </p>
            <h1 style="text-align: center;">â˜ï¸ Welcome {get_hostname()} user, welcome to the ShuSheng LLM Practical Camp Course!</h1>
            <h2 style="text-align: center;">ğŸ˜€ Letâ€™s go on a journey through ShuSheng Island together.</h2>
            <p align="center">
                <a href="https://github.com/InternLM/Tutorial/blob/camp3">
                    <img src="https://oss.lingkongstudy.com.cn/blog/202410081252022.png" alt="Logo" width="50%" style="border-radius: 5px;">
                </a>
            </p>

            """
    gr.Markdown(html_code)

demo.launch()
```

æ¿€æ´»ç¯å¢ƒ`L0`å¹¶`pip install gradio==4.29.0`å®‰è£…`hello_world.py`çš„ä¾èµ–ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/966abe2a0b8a4b6e9fdee3751049c915.png)
è¿è¡Œè¯¥æ–‡ä»¶ï¼Œå¹¶æœ¬åœ°æ‰“å¼€é“¾æ¥å°±å¯ä»¥çœ‹åˆ°Web UIçš„ç•Œé¢äº†ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/ad5f618fa741465aa46f5c2a0a74bf26.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/7d64b96a952148b18a635330c36f1c06.png)
ç”±äºVScodeæä¾›äº†è‡ªåŠ¨ç«¯å£æ˜ å°„çš„åŠŸèƒ½ï¼Œå› æ­¤ä¸éœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œåœ¨ç»ˆç«¯çš„å³ä¾§å¯ä»¥æ‰¾åˆ°ç«¯å£é€‰é¡¹ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/6eff27953fa944f3b5a3c2fa739224c9.png)
# ç¬¬2å…³ PythonåŸºç¡€çŸ¥è¯†
## VScodeè¿æ¥InternStudio debugç¬”è®°
### 1.python debug
**Step1.å®‰è£…Pythonæ‰©å±•**
 - æ‰“å¼€VSCodeï¼Œç‚¹å‡»å·¦ä¾§æ‰©å±•æ ï¼Œæœç´¢Pythonï¼Œå¹¶å®‰è£…ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/a31a0c31dbee46d69c66ecfa06d0a66d.png)**Step2.é…ç½®è°ƒè¯•**
 - æ‰“å¼€ä½ çš„Pythonæ–‡ä»¶ï¼Œç‚¹å‡»å·¦ä¾§æ´»åŠ¨æ çš„â€œè¿è¡Œå’Œè°ƒè¯•â€å›¾æ ‡ã€‚
 - é¦–æ¬¡debugéœ€è¦é…ç½®ï¼Œç‚¹å‡»â€œcreate a launch.json fileâ€ï¼Œé€‰æ‹©python debuggeråé€‰æ‹©â€œPython Fileâ€ configã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/d8dd781839b14e30845dbdbc560f57f0.png) - å¯ä»¥ç›´æ¥ç¼–è¾‘ç”Ÿæˆçš„launch.jsonæ–‡ä»¶ï¼Œé…ç½®è°ƒè¯•å‚æ•°ï¼Œæ¯”å¦‚æ·»åŠ configï¼ˆAdd Configurationï¼‰ç­‰ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/e1a555af744b42b2aed376252c30bcba.png)

**Step3.è®¾ç½®æ–­ç‚¹**
 - åœ¨ä»£ç è¡Œå·æ—è¾¹ç‚¹å‡»ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªçº¢ç‚¹ï¼Œè¿™å°±æ˜¯æ–­ç‚¹ï¼ˆå¦‚æœä¸èƒ½æ·»åŠ çº¢ç‚¹éœ€è¦æ£€æŸ¥ä¸€ä¸‹Pythonæ‰©å±•æ˜¯å¦å·²ç»æ­£ç¡®å®‰è£…ï¼‰ã€‚å½“ä»£ç è¿è¡Œåˆ°è¿™é‡Œæ—¶ï¼Œå®ƒä¼šåœä¸‹æ¥ï¼Œè¿™æ ·ä½ å°±å¯ä»¥æ£€æŸ¥å˜é‡çš„å€¼ã€æ‰§è¡Œæ­¥éª¤ç­‰ã€‚
	 - æ™®é€šæ–­ç‚¹ï¼šåœ¨ä»£ç è¡Œå·å·¦ä¾§ç‚¹å‡»ï¼Œæ·»åŠ æ–­ç‚¹ã€‚
	 - æ¡ä»¶æ–­ç‚¹ï¼šåœ¨æ–­ç‚¹æ ‡è®°ä¸Šå³é”®ï¼Œé€‰æ‹©æ¡ä»¶æ–­ç‚¹ï¼ˆconditional breakpointï¼‰ã€‚
 - VSCode ä¸­å¸¸ç”¨çš„æ¡ä»¶æ–­ç‚¹ä¸»è¦æœ‰ä¸‰ç§ç±»å‹ï¼š
	 - è¡¨è¾¾å¼ï¼ˆExpressionï¼‰ï¼šè¾“å…¥ä¸€ä¸ª Python è¡¨è¾¾å¼ï¼Œæ¯æ¬¡è§¦å‘æ–­ç‚¹æ—¶è¿è¡Œè¯¥è¡¨è¾¾å¼ï¼Œå½“è¡¨è¾¾å¼çš„å€¼ä¸º True æ—¶ VS Code ä¼šæš‚åœæ‰§è¡Œã€‚ä¾‹å¦‚ï¼šx == 10
	 - è§¦å‘è®¡æ•°ï¼ˆHit Countï¼‰ï¼šæ–­ç‚¹è§¦å‘è®¡æ•°è¾¾åˆ°è¾“å…¥å€¼æ—¶æ‰ä¼šæš‚åœè¿è¡Œã€‚
	 - è®°å½•æ—¥å¿—ï¼ˆLog Messageï¼‰ï¼šè§¦å‘è¯¥æ–­ç‚¹æ—¶åœ¨ Debug Console ä¸­è¾“å‡ºæŒ‡å®šä¿¡æ¯ï¼Œå®é™…ä¸Šå°±æ˜¯ logpointã€‚éœ€è¦è¾“å…¥è¦è¾“å‡ºçš„ä¿¡æ¯ï¼Œå¦‚æœè¦ç”¨åˆ°è¡¨è¾¾å¼ï¼Œå¯ä»¥ä½¿ç”¨ {} å°†è¡¨è¾¾å¼æ‹¬èµ·æ¥ã€‚ä¾‹å¦‚ï¼Œæ¯æ¬¡è®°å½•å˜é‡ i çš„å€¼å¯ä»¥å†™ x={i}ã€‚

**Step4.å¯åŠ¨debug**
 - ç‚¹å‡»VSCodeä¾§è¾¹æ çš„â€œRun and Debugâ€ï¼ˆè¿è¡Œå’Œè°ƒè¯•ï¼‰ï¼Œé€‰æ‹©è°ƒè¯•é…ç½®åï¼Œç‚¹å‡»ç»¿è‰²ç®­å¤´ï¼ˆå¼€å§‹è°ƒè¯•ï¼‰æŒ‰é’®ï¼Œæˆ–è€…æŒ‰F5é”®ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/9f50a6b4a79b4d03b30dc910cd5adabe.png#pic_center)


**Step5.æŸ¥çœ‹å˜é‡**
 - å½“ä»£ç åœ¨æ–­ç‚¹å¤„åœä¸‹æ¥æ—¶ï¼Œä½ å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹å˜é‡çš„å€¼ã€‚åœ¨â€œRun and
   Debugâ€ä¾§è¾¹æ çš„â€œVariablesâ€ï¼ˆå˜é‡ï¼‰éƒ¨åˆ†ï¼Œä½ å¯ä»¥çœ‹åˆ°å½“å‰ä½œç”¨åŸŸå†…çš„æ‰€æœ‰å˜é‡åŠå…¶å€¼ã€‚

**Step6.å•æ­¥æ‰§è¡Œä»£ç **
 - ä½ å¯ä»¥ä½¿ç”¨é¡¶éƒ¨çš„debugé¢æ¿çš„æŒ‰é’®æ¥å•æ­¥æ‰§è¡Œä»£ç ã€‚è¿™æ ·ï¼Œä½ å¯ä»¥é€è¡Œè¿è¡Œä»£ç ï¼Œå¹¶æŸ¥çœ‹æ¯è¡Œä»£ç æ‰§è¡Œåçš„æ•ˆæœã€‚
 - debugé¢æ¿å„æŒ‰é’®åŠŸèƒ½ä»‹ç»ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/313a5f75f80a4819996e41c498028554.png#pic_center)
	 - 1 continue: ç»§ç»­è¿è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ã€‚ 
	 - 2 step over: å•æ­¥è·³è¿‡ï¼Œå¯ä»¥ç†è§£ä¸ºè¿è¡Œå½“å‰è¡Œä»£ç ï¼Œä¸è¿›å…¥å…·ä½“çš„å‡½æ•°æˆ–è€…æ–¹æ³•ã€‚ 
	 - 3 step into: å•æ­¥è¿›å…¥ã€‚å¦‚æœå½“å‰è¡Œä»£ç å­˜åœ¨å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¿›å…¥è¯¥å‡½æ•°å†…éƒ¨ã€‚å¦‚æœå½“å‰è¡Œä»£ç æ²¡æœ‰å‡½æ•°è°ƒç”¨ï¼Œåˆ™ç­‰ä»·äºstep overã€‚ 
	 - 4 step out: å•æ­¥é€€å‡ºå‡½æ•°ï¼Œè¿”å›åˆ°è°ƒç”¨è¯¥å‡½æ•°çš„ä¸Šä¸€å±‚ä»£ç ã€‚
	 - 5 restart: é‡æ–°å¯åŠ¨è°ƒè¯•ã€‚ 
	 - 6 stop: ç»ˆæ­¢è°ƒè¯•ã€‚

**Step7.ä¿®å¤é”™è¯¯å¹¶é‡æ–°è¿è¡Œ**
å¦‚æœä½ æ‰¾åˆ°äº†ä»£ç ä¸­çš„é”™è¯¯ï¼Œå¯ä»¥ä¿®å¤å®ƒï¼Œç„¶åé‡æ–°è¿è¡Œdebugæ¥ç¡®ä¿é—®é¢˜å·²ç»è¢«è§£å†³ã€‚

é€šè¿‡éµå¾ªä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥ä½¿ç”¨VSCodeçš„debugåŠŸèƒ½æ¥æ›´å®¹æ˜“åœ°æ‰¾åˆ°å’Œä¿®å¤ä½ Pythonä»£ç ä¸­çš„é”™è¯¯ã€‚å¯ä»¥è‡ªå·±ç¼–å†™ä¸€ä¸ªç®€å•çš„pythonè„šæœ¬ï¼Œå¹¶å°è¯•ä½¿ç”¨debugæ¥æ›´å¥½çš„ç†è§£ä»£ç çš„è¿è¡Œé€»è¾‘ã€‚è®°ä½ï¼Œdebugæ˜¯ç¼–ç¨‹ä¸­éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥ä¸è¦æ€•èŠ±æ—¶é—´åœ¨è¿™ä¸Šé¢ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œä½ ä¼šå˜å¾—è¶Šæ¥è¶Šæ“…é•¿å®ƒï¼
### 2.å‘½ä»¤è¡Œdebug
å¾ˆå¤šæ—¶å€™æˆ‘ä»¬è¦debugçš„ä¸æ­¢æ˜¯ä¸€ä¸ªç®€å•çš„pythonæ–‡ä»¶ï¼Œè€Œæ˜¯å¾ˆå¤šå‚æ•°ï¼Œå‚æ•°ä¸­ä¸æ­¢ä¼šæœ‰ç®€å•çš„å€¼è¿˜å¯èƒ½æœ‰é”™ç»¼å¤æ‚çš„æ–‡ä»¶å…³ç³»ï¼Œç”šè‡³debugä¸€æ•´ä¸ªé¡¹ç›®ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œæ¥å‘èµ·debugä¼šæ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚
> å…¶å®ä¸å¤ªç†è§£è¿™ä¸ªè¦ç”¨åœ¨ä»€ä¹ˆåœºæ™¯å•¦

**VScodeè®¾ç½®**
VScodeæ”¯æŒé€šè¿‡remoteçš„æ–¹æ³•è¿æ¥æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸­å‘èµ·çš„debug serverã€‚é¦–å…ˆæˆ‘ä»¬è¦é…ç½®ä¸€ä¸‹debugçš„configã€‚

è¿˜æ˜¯ç‚¹å‡»VScodeä¾§è¾¹æ çš„â€œRun and Debugâ€ï¼ˆè¿è¡Œå’Œè°ƒè¯•ï¼‰ï¼Œå•å‡»"create a lauch.json file"

é€‰æ‹©debuggeræ—¶é€‰æ‹©python debuggerã€‚é€‰æ‹©debug configæ—¶é€‰æ‹©remote attachå°±è¡Œï¼Œéšåä¼šè®©æˆ‘ä»¬é€‰æ‹©debug serverçš„åœ°å€ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯åœ¨æœ¬åœ°debugï¼Œæ‰€ä»¥å…¨éƒ½ä¿æŒé»˜è®¤ç›´æ¥å›è½¦å°±å¯ä»¥äº†ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„serveråœ°å€ä¸º localhost:5678ã€‚

é…ç½®å®Œä»¥åä¼šæ‰“å¼€é…ç½®çš„jsonæ–‡ä»¶ï¼Œä½†è¿™ä¸æ˜¯é‡ç‚¹ï¼Œå¯ä»¥å…³æ‰ã€‚è¿™æ—¶æˆ‘ä»¬ä¼šçœ‹åˆ°run and debugç•Œé¢æœ‰å˜åŒ–ï¼Œå‡ºç°äº†debugé€‰é¡¹ã€‚

æ³¨æ„ï¼šå·²ç»æœ‰é…ç½®å¥½çš„jsonæ–‡ä»¶

å¦‚æœæœ‰å·²ç»é…ç½®å¥½çš„debug jsoné…ç½®æ–‡ä»¶ï¼Œåˆ™éœ€è¦åœ¨åŸjsonä¸Šå¢åŠ é…ç½®ã€‚å¯ä»¥é€šè¿‡Run and Debugå¡ç‰‡å·¦ä¸Šè§’çš„ä¸‹æ‹‰èœå•å•å‡»Add configurationï¼Œæˆ–è€…ç‚¹å‡»è®¾ç½®æŒ‰é’®æ‰“å¼€é…ç½®æ–‡ä»¶ï¼Œåœ¨é…ç½®æ–‡ä»¶çš„å³ä¸‹è§’ä¹Ÿä¼šæœ‰ä¸€ä¸ªAdd configurationã€‚å‰©ä¸‹çš„æ­¥éª¤å°±å’Œå‰é¢ä¸€æ ·é€‰æ‹©Python debugger-Remote attachï¼Œå‰©ä¸‹çš„å…¨éƒ½ä¿æŒé»˜è®¤ç›´æ¥å›è½¦å°±å¯ä»¥äº†ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„serveråœ°å€ä¸º localhost:5678ã€‚

**debugå‘½ä»¤è¡Œ**
ç°åœ¨vscodeå·²ç»å‡†å¤‡å°±ç»ªï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•åœ¨å‘½ä»¤è¡Œä¸­å‘èµ·debugã€‚å¦‚æœæ²¡æœ‰å®‰è£…debugpyçš„è¯å¯ä»¥å…ˆé€šè¿‡pip install debugpyå®‰è£…ä¸€ä¸‹ã€‚

```bash
python -m debugpy --listen 5678 --wait-for-client ./myscript.py
```

 - `./myscript.py`å¯ä»¥æ›¿æ¢ä¸ºæˆ‘ä»¬æƒ³è¦debugçš„pythonæ–‡ä»¶ï¼Œåé¢å¯ä»¥å’Œç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­å¯åŠ¨pythonä¸€æ ·è·Ÿä¸Šè¾“å…¥çš„å‚æ•°ã€‚è®°å¾—è¦å…ˆåœ¨æƒ³è¦debugçš„pythonæ–‡ä»¶æ‰“å¥½æ–­ç‚¹å¹¶ä¿å­˜ã€‚
   
   `--wait-for-client`å‚æ•°ä¼šè®©æˆ‘ä»¬çš„debug serveråœ¨ç­‰å®¢æˆ·ç«¯è¿å…¥åæ‰å¼€å§‹è¿è¡Œdebugã€‚åœ¨è¿™å°±æ˜¯è¦ç­‰åˆ°æˆ‘ä»¬åœ¨run and debugç•Œé¢å¯åŠ¨debugã€‚

æ³¨æ„ï¼š åœ¨å¼€å‘æœºä¸Šä½¿ç”¨è¯¥debugæ–¹å¼è¿è¡Œçš„æ—¶å€™å¯èƒ½ä¼šæŠ¥ä»¥ä¸‹warningã€‚æ­¤æ—¶ï¼Œdebugå¯èƒ½ä¸èƒ½æ­£å¸¸è¿è¡Œï¼Œéœ€è¦æŒ‰ä»–æç¤ºçš„ç»™pythonåŠ ä¸Š-Xfrozen_modules=offå‚æ•°ç¦ç”¨å†»ç»“æ¨¡å—å³å¯ã€‚

```bash
Debugger warning: It seems that frozen modules are being used, which may make the debugger miss breakpoints. Please pass -Xfrozen_modules=off to python to disable frozen modules.
```

```python
python -m -Xfrozen_modules=off debugpy --listen 5678 --wait-for-client ./myscript.py
```
å…ˆåœ¨ç»ˆç«¯ä¸­å‘èµ·debug serverï¼Œç„¶åå†å»vscode debugé¡µé¢å•å‡»ä¸€ä¸‹ç»¿è‰²ç®­å¤´å¼€å¯debugã€‚

**ä½¿ç”¨åˆ«åç®€åŒ–å‘½ä»¤**
ç”±äº`python -m debugpy --listen 5678 --wait-for-client`è¿™ä¸ªå‘½ä»¤å¤ªé•¿äº†ï¼Œå¯ä»¥ç»™è¿™æ®µå¸¸ç”¨çš„å‘½ä»¤è®¾ç½®ä¸€ä¸ªåˆ«åã€‚

åœ¨linuxç³»ç»Ÿä¸­ï¼Œå¯ä»¥å¯¹ ~/.bashrc æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å‘½ä»¤

```bash
alias pyd='python -m debugpy --wait-for-client --listen 5678'
```
ç„¶åæ‰§è¡Œ

```bash
source ~/.bashrc
```
è¿™æ ·ä¹‹åä½¿ç”¨ pyd å‘½ä»¤(ä½ å¯ä»¥è‡ªå·±å‘½å) æ›¿ä»£ python å°±èƒ½åœ¨å‘½ä»¤è¡Œä¸­èµ·debugäº†ï¼Œä¹‹å‰çš„debugå‘½ä»¤å°±å˜æˆäº†

```bash
pyd ./myscript.py
```

## å®æˆ˜
### é€šè¿‡Leetcode 383
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/9c78f7b08dac409b87643d36c8913117.png)

```python
class Solution(object):
    def canConstruct(self, ransomNote, magazine):
        """
        :type ransomNote: str
        :type magazine: str
        :rtype: bool
        """
        # ç”¨äºå­˜å‚¨ magazine ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°
        char_count = {}
        # éå† magazine ä¸­çš„æ¯ä¸ªå­—ç¬¦
        for char in magazine:
            if char in char_count:
                char_count[char] += 1
            else:
                char_count[char] = 1
        # éå† ransomNote ä¸­çš„æ¯ä¸ªå­—ç¬¦
        for char in ransomNote:
            if char not in char_count or char_count[char] == 0:
                return False
            char_count[char] -= 1

        return True
```
æäº¤é€šè¿‡æˆªå›¾ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/eb42e6a9997e4ccb93896bdd655d3a8b.png)
### pythonè°ƒç”¨InternLM APIå¹¶debug
**è·å–API Key**
ä¹¦ç”ŸÂ·æµ¦è¯­çš„[APIæ–‡æ¡£](https://internlm.intern-ai.org.cn/api/document)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/b9bdf427bcdc498eb7008f9df4d53ea4.png)
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨openai python sdkæ¥è°ƒç”¨InternLM apiã€‚æ³¨æ„åœ¨é…ç½®api keyæ—¶ï¼Œæ›´æ¨èä½¿ç”¨ç¯å¢ƒå˜é‡æ¥é…ç½®ä»¥é¿å…tokenæ³„éœ²ã€‚
 - å¯ä»¥åœ¨ç»ˆç«¯ä¸­ä¸´æ—¶å°†tokenåŠ å…¥å˜é‡ï¼Œæ­¤æ—¶è¯¥ç¯å¢ƒå˜é‡åªåœ¨å½“å‰ç»ˆç«¯å†…æœ‰æ•ˆã€‚
```bash
export api_key="å¡«å…¥ä½ çš„api token"
python internlm_test.py
```
 - è‹¥æ˜¯æƒ³æ°¸ä¹…åŠ å…¥ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥å¯¹ ~/.bashrc æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å‘½ä»¤ã€‚
```bash
export api_key="å¡«å…¥ä½ çš„api token"
```
 - ä¿å­˜åè®°å¾—`source ~/.bashrc`ã€‚

**debugå•ä¸ªæ–‡ä»¶**
ä¸‹é¢æ˜¯ä¸€æ®µè°ƒç”¨ä¹¦ç”Ÿæµ¦è¯­APIå®ç°å°†éç»“æ„åŒ–æ–‡æœ¬è½¬åŒ–æˆç»“æ„åŒ–jsonçš„ä¾‹å­ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå°bugä¼šå¯¼è‡´æŠ¥é”™ã€‚ä¸ºäº†ä¾¿äºdebugæ‰€ä»¥å°†api_keyæ˜æ–‡å†™åœ¨ä»£ç ä¸­ï¼Œè¿™æ˜¯ä¸€ç§æå…¶ä¸å¯å–çš„è¡Œä¸º!
```python
from openai import OpenAI
import json
def internlm_gen(prompt,client):
    '''
    LLMç”Ÿæˆå‡½æ•°
    Param prompt: prompt string
    Param client: OpenAI client 
    '''
    response = client.chat.completions.create(
        model="internlm2.5-latest",
        messages=[
            {"role": "user", "content": prompt},
      ],
        stream=False
    )
    return response.choices[0].message.content

api_key = ''
client = OpenAI(base_url="https://internlm-chat.intern-ai.org.cn/puyu/api/v1/",api_key=api_key)

content = """
ä¹¦ç”Ÿæµ¦è¯­InternLM2.5æ˜¯ä¸Šæµ·äººå·¥æ™ºèƒ½å®éªŒå®¤äº2024å¹´7æœˆæ¨å‡ºçš„æ–°ä¸€ä»£å¤§è¯­è¨€æ¨¡å‹ï¼Œæä¾›1.8Bã€7Bå’Œ20Bä¸‰ç§å‚æ•°ç‰ˆæœ¬ï¼Œä»¥é€‚åº”ä¸åŒéœ€æ±‚ã€‚
è¯¥æ¨¡å‹åœ¨å¤æ‚åœºæ™¯ä¸‹çš„æ¨ç†èƒ½åŠ›å¾—åˆ°å…¨é¢å¢å¼ºï¼Œæ”¯æŒ1Mè¶…é•¿ä¸Šä¸‹æ–‡ï¼Œèƒ½è‡ªä¸»è¿›è¡Œäº’è”ç½‘æœç´¢å¹¶æ•´åˆä¿¡æ¯ã€‚
"""
prompt = f"""
è¯·å¸®æˆ‘ä»ä»¥ä¸‹``å†…çš„è¿™æ®µæ¨¡å‹ä»‹ç»æ–‡å­—ä¸­æå–å…³äºè¯¥æ¨¡å‹çš„ä¿¡æ¯ï¼Œè¦æ±‚åŒ…å«æ¨¡å‹åå­—ã€å¼€å‘æœºæ„ã€æä¾›å‚æ•°ç‰ˆæœ¬ã€ä¸Šä¸‹æ–‡é•¿åº¦å››ä¸ªå†…å®¹ï¼Œä»¥jsonæ ¼å¼è¿”å›ã€‚
`{content}`
"""
res = internlm_gen(prompt,client)
res_json = json.loads(res)
print(res_json)
```
ï¼ˆ1ï¼‰é¦–æ¬¡è¿è¡ŒæŠ¥é”™ï¼Œæœªå®‰è£…openaiåº“ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/57d7ea6d06b6493f98b28524a1c434fe.png)
ï¼ˆ2ï¼‰å†æ¬¡è¿è¡ŒæŠ¥é”™ï¼Œå®šä½åœ¨`res = internlm_gen(prompt,client)`ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/4d50f06bcfb14fd7931714e0ef6a97bf.png)
ï¼ˆ3ï¼‰python debugå®‰è£…æ‰©å±•å¹¶é…ç½®è°ƒè¯•
ï¼ˆ4ï¼‰è®¾ç½®æ–­ç‚¹ï¼Œå¯åŠ¨debugï¼ŒæŸ¥çœ‹å˜é‡
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/664aa8c3c1c54b72ad52736bd60f9c9b.png)
reså˜é‡çš„å€¼å¦‚ä¸‹ï¼š
```python
'æ ¹æ®æä¾›çš„æ¨¡å‹ä»‹ç»æ–‡å­—ï¼Œä»¥ä¸‹æ˜¯æå–çš„å…³äºè¯¥æ¨¡å‹çš„ä¿¡æ¯ï¼Œä»¥JSONæ ¼å¼è¿”å›ï¼š\n\n```json\n{\n  "æ¨¡å‹åå­—": "ä¹¦ç”Ÿæµ¦è¯­InternLM2.5",\n  "å¼€å‘æœºæ„": "ä¸Šæµ·äººå·¥æ™ºèƒ½å®éªŒå®¤",\n  "æä¾›å‚æ•°ç‰ˆæœ¬": ["1.8B", "7B", "20B"],\n  "ä¸Šä¸‹æ–‡é•¿åº¦": "1M"\n}\n```\n\nè¿™ä¸ªJSONå¯¹è±¡åŒ…å«äº†æ¨¡å‹åå­—ã€å¼€å‘æœºæ„ã€æä¾›å‚æ•°ç‰ˆæœ¬ä»¥åŠä¸Šä¸‹æ–‡é•¿åº¦è¿™å››ä¸ªå…³é”®ä¿¡æ¯ã€‚å¸Œæœ›è¿™å¯¹æ‚¨æœ‰å¸®åŠ©ï¼å¦‚æœæœ‰å…¶ä»–é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„ä¿¡æ¯ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ã€‚'
```
é”™è¯¯å®šä½ï¼šres å˜é‡ä¸­çš„å†…å®¹å¹¶ä¸æ˜¯ä¸€ä¸ªçº¯ç²¹çš„ JSON å­—ç¬¦ä¸²ã€‚å®ƒåŒ…å«äº†ä¸€äº›é¢å¤–çš„æ–‡æœ¬æè¿°ï¼Œå¦‚ "æ ¹æ®æä¾›çš„æ¨¡å‹ä»‹ç»æ–‡å­—ï¼Œä»¥ä¸‹æ˜¯æå–çš„å…³äºè¯¥æ¨¡å‹çš„ä¿¡æ¯ï¼Œä»¥ JSON æ ¼å¼è¿”å›ï¼š" ä»¥åŠå‰åçš„æ³¨é‡Šä¿¡æ¯å’Œæ ¼å¼åŒ–æ ‡è®°ï¼ˆå¦‚ json å’Œ ï¼‰ï¼Œè€Œ json.loads() æ–¹æ³•åªèƒ½å¤„ç†æ ‡å‡†çš„ JSON æ ¼å¼å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥é‡åˆ°è¿™äº›é JSON å†…å®¹æ—¶å°±ä¼šæŠ›å‡ºè§£æé”™è¯¯ã€‚

ï¼ˆ5ï¼‰ä¿®å¤é”™è¯¯å¹¶é‡æ–°è¿è¡Œ
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/ed2da1186ed14ba4bf1dc5bd5c41714d.png)

### pipå®‰è£…åˆ°æŒ‡å®šç›®å½•
ä½¿ç”¨VScodeè¿æ¥å¼€å‘æœºåä½¿ç”¨pip install -tå‘½ä»¤å®‰è£…ä¸€ä¸ªnumpyåˆ°å¼€å‘æœº/root/myenvsç›®å½•ä¸‹ï¼Œå¹¶æˆåŠŸåœ¨ä¸€ä¸ªæ–°å»ºçš„pythonæ–‡ä»¶ä¸­å¼•ç”¨ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/837f13715acc4a238a17fd030567709f.png)
åˆ›å»ºæ–°çš„æ–‡ä»¶`np_demo.py`å¹¶è¿è¡Œï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/2d393b9ac9e04976bf1025d3ffd58d8e.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/8ca213fbe8774d709c867985d94bd861.png)
# ç¬¬3å…³ GitåŸºç¡€çŸ¥è¯†
## Gitç›¸å…³
Gitæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿçš„å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†ã€‚ Gitçš„è¯ç”Ÿç¦»ä¸å¼€Linuxç¤¾åŒºçš„åŠªåŠ›ï¼Œå®ƒæ˜¯å¼€æºçš„ï¼Œè€Œä¸”æ˜¯å…è´¹çš„ã€‚å®ƒæ”¯æŒå¤šç§æ“ä½œç³»ç»Ÿï¼ŒåŒ…æ‹¬ Linuxã€Unixã€Mac OS Xã€Windowsã€‚
### Gitç®€æ˜“å…¥é—¨å››éƒ¨æ›²
åœ¨Gitçš„æ—¥å¸¸ä½¿ç”¨ä¸­ï¼Œä¸‹é¢å››æ­¥æ›²æ˜¯å¸¸ç”¨çš„æµç¨‹ï¼Œå°¤å…¶æ˜¯åœ¨å›¢é˜Ÿåä½œç¯å¢ƒä¸­ã€‚

 - æ·»ï¼ˆAddï¼‰
	 - å‘½ä»¤ï¼š`git add <æ–‡ä»¶å>` æˆ– `git add .` 
	 - ä½œç”¨ï¼šå°†ä¿®æ”¹è¿‡çš„æ–‡ä»¶æ·»åŠ åˆ°æœ¬åœ°æš‚å­˜åŒºï¼ˆStaging Areaï¼‰ã€‚è¿™ä¸€æ­¥æ˜¯å‡†å¤‡é˜¶æ®µï¼Œä½ å¯ä»¥é€‰æ‹©æ€§åœ°æ·»åŠ æ–‡ä»¶ï¼Œå†³å®šå“ªäº›ä¿®æ”¹åº”è¯¥è¢«åŒ…æ‹¬åœ¨å³å°†è¿›è¡Œçš„æäº¤ä¸­ã€‚ 

 - æï¼ˆCommitï¼‰
	 - å‘½ä»¤ï¼š`git commit -m 'æè¿°ä¿¡æ¯'`
	 - ä½œç”¨ï¼šå°†æš‚å­˜åŒºä¸­çš„æ›´æ”¹æäº¤åˆ°æœ¬åœ°ä»“åº“ã€‚è¿™ä¸€æ­¥æ˜¯å°†ä½ çš„æ›´æ”¹æ­£å¼è®°å½•ä¸‹æ¥ï¼Œæ¯æ¬¡æäº¤éƒ½åº”é™„å¸¦ä¸€ä¸ªæ¸…æ™°çš„æè¿°ä¿¡æ¯ï¼Œè¯´æ˜è¿™æ¬¡æäº¤çš„ç›®çš„æˆ–æ‰€è§£å†³çš„é—®é¢˜ã€‚

 - æ‹‰ï¼ˆPullï¼‰
	 - å‘½ä»¤ï¼š`git pull`
	 - ä½œç”¨ï¼šä»è¿œç¨‹ä»“åº“æ‹‰å–æœ€æ–°çš„å†…å®¹åˆ°æœ¬åœ°ä»“åº“ï¼Œå¹¶è‡ªåŠ¨å°è¯•åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ã€‚è¿™ä¸€æ­¥æ˜¯åŒæ­¥çš„é‡è¦ç¯èŠ‚ï¼Œç¡®ä¿ä½ çš„å·¥ä½œåŸºäºæœ€æ–°çš„é¡¹ç›®çŠ¶æ€è¿›è¡Œã€‚åœ¨å¤šäººåä½œä¸­ï¼Œå®šæœŸæ‹‰å–å¯ä»¥é¿å…å°†æ¥çš„åˆå¹¶å†²çªã€‚

 - æ¨ï¼ˆPushï¼‰
	 - å‘½ä»¤ï¼š`git push`
	 - ä½œç”¨ï¼šå°†æœ¬åœ°ä»“åº“çš„æ›´æ”¹æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚è¿™ä¸€æ­¥æ˜¯å…±äº«ä½ çš„å·¥ä½œæˆæœï¼Œè®©å›¢é˜Ÿæˆå‘˜çœ‹åˆ°ä½ çš„è´¡çŒ®ã€‚

å¸®åŠ©å›¢é˜Ÿæˆå‘˜æœ‰æ•ˆåœ°ç®¡ç†å’ŒåŒæ­¥ä»£ç ï¼Œé¿å…å·¥ä½œå†²çªï¼Œç¡®ä¿é¡¹ç›®çš„é¡ºåˆ©è¿›è¡Œã€‚æ­£ç¡®åœ°ä½¿ç”¨è¿™äº›å‘½ä»¤å¯ä»¥æå¤§åœ°æé«˜å¼€å‘æ•ˆç‡å’Œåä½œè´¨é‡ã€‚
### Gitå¸¸ç”¨æŒ‡ä»¤
|æŒ‡ä»¤| æè¿° |
|--|--|
|`git config`	|é…ç½®ç”¨æˆ·ä¿¡æ¯å’Œåå¥½è®¾ç½®|
|`git init`|	åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ Git ä»“åº“|
|`git clone`|	å…‹éš†ä¸€ä¸ªè¿œç¨‹ä»“åº“åˆ°æœ¬åœ°|
|`git status`|æŸ¥çœ‹ä»“åº“å½“å‰çš„çŠ¶æ€ï¼Œæ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶|
|`git add`|	å°†æ–‡ä»¶æ›´æ”¹æ·»åŠ åˆ°æš‚å­˜åŒº|
|`git commit`|	æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº|
|`git branch`|	åˆ—å‡ºã€åˆ›å»ºæˆ–åˆ é™¤åˆ†æ”¯|
|`git checkout`|	åˆ‡æ¢åˆ†æ”¯æˆ–æ¢å¤å·¥ä½œæ ‘æ–‡ä»¶|
|`git merge`|	åˆå¹¶ä¸¤ä¸ªæˆ–æ›´å¤šçš„å¼€å‘å†å²|
|`git pull`|	ä»å¦ä¸€ä»“åº“è·å–å¹¶åˆå¹¶æœ¬åœ°çš„ç‰ˆæœ¬|
|`git push`|	æ›´æ–°è¿œç¨‹å¼•ç”¨å’Œç›¸å…³çš„å¯¹è±¡|
|`git remote`|	ç®¡ç†è·Ÿè¸ªè¿œç¨‹ä»“åº“çš„å‘½ä»¤|
|`git fetch`|	ä»è¿œç¨‹ä»“åº“è·å–æ•°æ®åˆ°æœ¬åœ°ä»“åº“ï¼Œä½†ä¸è‡ªåŠ¨åˆå¹¶|
|`git stash`|	æš‚å­˜å½“å‰å·¥ä½œç›®å½•çš„ä¿®æ”¹ï¼Œä»¥ä¾¿å¯ä»¥åˆ‡æ¢åˆ†æ”¯|
|`git cherry-pick`|	é€‰æ‹©ä¸€ä¸ªæäº¤ï¼Œå°†å…¶ä½œä¸ºæ–°çš„æäº¤å¼•å…¥|
|`git rebase`|	å°†æäº¤ä»ä¸€ä¸ªåˆ†æ”¯ç§»åŠ¨åˆ°å¦ä¸€ä¸ªåˆ†æ”¯|
|`git reset`|	é‡è®¾å½“å‰ HEAD åˆ°æŒ‡å®šçŠ¶æ€ï¼Œå¯é€‰ä¿®æ”¹å·¥ä½œåŒºå’Œæš‚å­˜åŒº|
|`git revert`|	é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤æ¥æ’¤é”€ä¹‹å‰çš„æäº¤|
|`git mv`|	ç§»åŠ¨æˆ–é‡å‘½åä¸€ä¸ªæ–‡ä»¶ã€ç›®å½•æˆ–ç¬¦å·é“¾æ¥ï¼Œå¹¶è‡ªåŠ¨æ›´æ–°ç´¢å¼•|
|`git rm`|	ä»å·¥ä½œåŒºå’Œç´¢å¼•ä¸­åˆ é™¤æ–‡ä»¶|
## å®æˆ˜
### æäº¤è‡ªæˆ‘ä»‹ç»
å°†æœ¬é¡¹ç›®ç›´æ¥forkåˆ°è‡ªå·±çš„è´¦å·ä¸‹ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥åœ¨è‡ªå·±çš„è´¦å·ä¸‹è¿›è¡Œä¿®æ”¹å’Œæäº¤ã€‚æ³¨æ„å–æ¶ˆå‹¾é€‰ä»…å…‹éš†å½“å‰åˆ†æ”¯ã€‚é…ç½®gitå¹¶å…‹éš†é¡¹ç›®åˆ°InternStudioæœ¬åœ°ã€‚

```bash
# ä¿®æ”¹ä¸ºè‡ªå·±forkçš„ä»“åº“ï¼Œæ”¹ä¸ºä¸Šå›¾ä¸­ä½ çš„httpsä»“åº“çš„gitåœ°å€,å°†random-zhouæ”¹ä¸ºè‡ªå·±çš„ç”¨æˆ·å
git clone https://github.com/random-zhou/Tutorial.git 
#git clone git@github.com:random-zhou/Tutorial.git 
#git clone https://github.com/InternLM/Tutorial.git
cd Tutorial/
git branch -a
git checkout -b class origin/class
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/49b6f4ee3dce40048c691ec1f88efb9b.png)
åˆ›å»ºåˆ†æ”¯ã€‚
```bash
git checkout -b class_036 # è‡ªå®šä¹‰ä¸€ä¸ªæ–°çš„åˆ†æ”¯
#git checkout -b class_id åˆ†æ”¯åå­—æ”¹ä¸ºä½ çš„uidåˆ†æ”¯åç§°
```

åˆ›å»ºè‡ªå·±çš„ä»‹ç»æ–‡ä»¶ã€‚
```
ã€å¤§å®¶å¯ä»¥å«æˆ‘ã€‘:InternLM
ã€åæ ‡ã€‘:ä¸Šæµ·
ã€ä¸“ä¸š/èŒä¸šã€‘:å°åŠ©æ‰‹
ã€å…´è¶£çˆ±å¥½ã€‘:ä¹’ä¹“çƒ
ã€é¡¹ç›®æŠ€èƒ½ã€‘:cvã€nlp
ã€ç»„é˜Ÿæƒ…å†µã€‘:æœªç»„é˜Ÿï¼Œå¿«æ¥ä¸€èµ·!
ã€æœ¬è¯¾ç¨‹å­¦ä¹ åŸºç¡€ã€‘:CVã€NLPã€LLM
ã€æœ¬æœŸæ´»åŠ¨ç›®æ ‡ã€‘:ä¸€èµ·å­¦ä¹ ï¼Œå¿«ä¹æš‘å‡ï¼Œé—¯å…³è¾¾äºº!
```

æäº¤æ›´æ”¹åˆ†æ”¯ï¼Œæ¨é€åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ã€‚
```bash
git add .
git commit -m "add git_camp4_036_introduction" # æäº¤ä¿¡æ¯è®°å½•,è¿™é‡Œéœ€è¦ä¿®æ”¹ä¸ºè‡ªå·±çš„uid
git push origin class_036
#æ³¨æ„ï¼Œè¿™é‡Œè¦æ”¹ä¸ºä½ è‡ªå·±çš„åˆ†æ”¯åç§°
#å¤§å®¶æäº¤ä½¿ç”¨è‹±æ–‡ï¼Œé¿å…åŒæ­¥é”™è¯¯
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/04991b02a054433ebe1a0c587b7c71d3.png)
æ£€æŸ¥æäº¤å†…å®¹å¹¶åˆ›å»º[PR](https://github.com/InternLM/Tutorial/pull/2953)ï¼šç‚¹å‡»å³ä¸Šè§’Compare & pull requestï¼Œåœ¨â€œAdd a titleä¸­â€è¾“å…¥ "add git_< id >_introduction"ï¼Œç„¶åç‚¹å‡»â€œCreate pull requestâ€ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/5f0dbce2bf124b72ab4b9969287cad7b.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/c1ca794c9c02433b95c5356da208e315.png)
### æ„å»ºä¸ªäººé¡¹ç›®

# ç¬¬4å…³ ç©è½¬HF/é­”æ­/é­”ä¹ç¤¾åŒº
## Hugging Faceå¹³å°
[Hugging Face](https://huggingface.co/) æœ€åˆä¸“æ³¨äºå¼€å‘èŠå¤©æœºå™¨äººæœåŠ¡ã€‚å°½ç®¡ä»–ä»¬çš„èŠå¤©æœºå™¨äººé¡¹ç›®å¹¶æœªå–å¾—é¢„æœŸçš„æˆåŠŸï¼Œä½†ä»–ä»¬åœ¨GitHubä¸Šå¼€æºçš„Transformersåº“å´æ„å¤–åœ°åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸå¼•èµ·äº†å·¨å¤§è½°åŠ¨ã€‚å¦‚ä»Šï¼ŒHugging Faceå·²ç»å‘å±•æˆä¸ºä¸€ä¸ªæ‹¥æœ‰è¶…è¿‡100,000ä¸ªé¢„è®­ç»ƒæ¨¡å‹å’Œ10,000ä¸ªæ•°æ®é›†çš„å¹³å°ï¼Œè¢«èª‰ä¸ºæœºå™¨å­¦ä¹ ç•Œçš„GitHubã€‚

HFçš„Transformersåº“ï¼Œä½œä¸ºHFæœ€æ ¸å¿ƒçš„é¡¹ç›®ï¼Œå®ƒå¯ä»¥ï¼š
 - ç›´æ¥ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œæ¨ç†ï¼›
 - æä¾›äº†å¤§é‡é¢„è®­ç»ƒæ¨¡å‹å¯ä¾›ä½¿ç”¨ï¼›
 - ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œè¿ç§»å­¦ä¹ ã€‚

### æ¨¡å‹è¯¦æƒ…é¡µ
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/275049fe7c4c4ba5a3a4c72ba3c01747.jpeg)

 - Model Cardï¼šç±»ä¼¼äºGitHubçš„README.mdæ–‡ä»¶ï¼Œéƒ½æ˜¯å±•ç¤ºæ¨¡å‹çš„overviewã€‚
 - Files and Versionsï¼šåŒ…å«æ¨¡å‹æ–‡ä»¶ä»¥åŠæ¨¡å‹çš„ç‰ˆæœ¬ç®¡ç†ã€‚
 - Use this modelï¼šæä¾›æˆ‘ä»¬ä½¿ç”¨æ¨¡å‹çš„ç¤ºä¾‹ä»£ç ï¼Œå½“ç„¶ä¸€èˆ¬åœ¨Model cardä¸‹æ–¹ä¹Ÿä¼šæåˆ°å„ç§è¯¥æ¨¡å‹çš„ä½¿ç”¨æ–¹æ³•ã€‚

## å®æˆ˜
### ä½¿ç”¨GitHub CodeSpaceä¸‹è½½æ¨¡å‹
Github CodeSpaceæ˜¯Githubæ¨å‡ºçš„çº¿ä¸Šä»£ç å¹³å°ï¼Œæä¾›äº†ä¸€ç³»åˆ—templatesï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹©Jupyter Notebookè¿›è¡Œåˆ›å»ºç¯å¢ƒã€‚åˆ›å»ºå¥½ç¯å¢ƒåï¼Œå¯ä»¥è¿›å…¥ç½‘é¡µç‰ˆVSCodeçš„ç•Œé¢ï¼Œè¿™å°±æ˜¯CodeSpaceæä¾›ç»™æˆ‘ä»¬çš„åœ¨çº¿ç¼–ç¨‹ç¯å¢ƒã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/04e7a7783483453fa313f1b0cfbe0158.png)

åœ¨ç•Œé¢ä¸‹æ–¹çš„ç»ˆç«¯å®‰è£…ä»¥ä¸‹ä¾èµ–ï¼Œä¾¿äºæ¨¡å‹è¿è¡Œã€‚
```bash
# å®‰è£…transformers
pip install transformers==4.38
pip install sentencepiece==0.1.99
pip install einops==0.8.0
pip install protobuf==5.27.2
pip install accelerate==0.33.0
```

ä»¥ä¸‹è½½æ¨¡å‹çš„é…ç½®æ–‡ä»¶ä¸ºä¾‹ï¼Œå…ˆæ–°å»ºä¸€ä¸ª`hf_download_json.py` æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š
```python
import os
from huggingface_hub import hf_hub_download

# æŒ‡å®šæ¨¡å‹æ ‡è¯†ç¬¦
repo_id = "internlm/internlm2_5-7b"

# æŒ‡å®šè¦ä¸‹è½½çš„æ–‡ä»¶åˆ—è¡¨
files_to_download = [
    {"filename": "config.json"},
    {"filename": "model.safetensors.index.json"}
]

# åˆ›å»ºä¸€ä¸ªç›®å½•æ¥å­˜æ”¾ä¸‹è½½çš„æ–‡ä»¶
local_dir = f"{repo_id.split('/')[1]}"
os.makedirs(local_dir, exist_ok=True)

# éå†æ–‡ä»¶åˆ—è¡¨å¹¶ä¸‹è½½æ¯ä¸ªæ–‡ä»¶
for file_info in files_to_download:
    file_path = hf_hub_download(
        repo_id=repo_id,
        filename=file_info["filename"],
        local_dir=local_dir
    )
    print(f"{file_info['filename']} file downloaded to: {file_path}")
```

è¿è¡Œè¯¥æ–‡ä»¶ï¼ˆæ³¨æ„æ–‡ä»¶ç›®å½•è¯·åœ¨è¯¥æ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹è¿è¡Œè¯¥æ–‡ä»¶ï¼‰ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå·²ç»ä»Hugging Faceä¸Šä¸‹è½½äº†ç›¸åº”é…ç½®æ–‡ä»¶ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/7bf5038569064afebd5bebdc8b2b968d.png)

åˆ›å»ºä¸€ä¸ªpythonæ–‡ä»¶ç”¨äºä¸‹è½½`internlm2_5-1_8B`æ¨¡å‹å¹¶è¿è¡Œï¼Œä¸‹è½½é€Ÿåº¦è·Ÿç½‘é€Ÿå’Œæ¨¡å‹å‚æ•°é‡å¤§å°ç›¸å…³è”ã€‚
```python
import torch
from transformers import AutoTokenizer, AutoModelForCausalLM

tokenizer = AutoTokenizer.from_pretrained("internlm/internlm2_5-1_8b", trust_remote_code=True)
model = AutoModelForCausalLM.from_pretrained("internlm/internlm2_5-1_8b", torch_dtype=torch.float16, trust_remote_code=True)
model = model.eval()

inputs = tokenizer(["A beautiful flower"], return_tensors="pt")
gen_kwargs = {
    "max_length": 128,
    "top_p": 0.8,
    "temperature": 0.8,
    "do_sample": True,
    "repetition_penalty": 1.0
}

# ä»¥ä¸‹å†…å®¹å¯é€‰ï¼Œå¦‚æœè§£é™¤æ³¨é‡Šç­‰å¾…ä¸€æ®µæ—¶é—´åå¯ä»¥çœ‹åˆ°æ¨¡å‹è¾“å‡º
output = model.generate(**inputs, **gen_kwargs)
output = tokenizer.decode(output[0].tolist(), skip_special_tokens=True)
print(output)
```
è¿™é‡Œä»¥â€œA beautiful flowerâ€å¼€å¤´ï¼Œæ¨¡å‹å¯¹å…¶è¿›è¡Œâ€œç»­å†™â€ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/ea6d5a00c93044f9b2a8dee074d80b23.png)
### ä½¿ç”¨Hugging Face Spacesä¸Šä¼ æ¨¡å‹
[Hugging Face Spaces](https://huggingface.co/spaces) æ˜¯ä¸€ä¸ªå…è®¸æˆ‘ä»¬è½»æ¾åœ°æ‰˜ç®¡ã€åˆ†äº«å’Œå‘ç°åŸºäºæœºå™¨å­¦ä¹ æ¨¡å‹çš„åº”ç”¨çš„å¹³å°ã€‚Spaces ä½¿å¾—å¼€å‘è€…å¯ä»¥å¿«é€Ÿå°†æˆ‘ä»¬çš„æ¨¡å‹éƒ¨ç½²ä¸ºå¯äº¤äº’çš„ web åº”ç”¨ï¼Œä¸”æ— éœ€æ‹…å¿ƒåç«¯åŸºç¡€è®¾æ–½æˆ–éƒ¨ç½²çš„å¤æ‚æ€§ã€‚ é¦–å…ˆè®¿é—®ä»¥ä¸‹é“¾æ¥ï¼Œè¿›å…¥Spacesã€‚åœ¨å³ä¸Šè§’ç‚¹å‡»Create new Spaceè¿›è¡Œåˆ›å»ºã€‚

åœ¨åˆ›å»ºé¡µé¢ä¸­ï¼Œè¾“å…¥é¡¹ç›®åä¸º`intern_cobuild`ï¼Œå¹¶é€‰æ‹©`Static`åº”ç”¨è¿›è¡Œåˆ›å»ºã€‚åˆ›å»ºæˆåŠŸåä¼šè‡ªåŠ¨è·³è½¬åˆ°ä¸€ä¸ªé»˜è®¤çš„HTMLé¡µé¢ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/655b77930d5b45fb818893fe01e0c0c4.png)
åˆ›å»ºå¥½é¡¹ç›®åï¼Œå›åˆ°æˆ‘ä»¬çš„CodeSpaceï¼Œæ¥ç€cloneé¡¹ç›®ã€‚
```python
cd /workspaces/codespaces-jupyter
# è¯·å°†<your_username>æ›¿æ¢ä½ è‡ªå·±çš„username
git clone https://huggingface.co/spaces/<your_username>/intern_cobuild
cd /workspaces/codespaces-jupyter/intern_cobuild
```
æ‰¾åˆ°è¯¥ç›®å½•æ–‡ä»¶å¤¹ä¸‹çš„index.htmlæ–‡ä»¶ï¼Œä¿®æ”¹æˆ‘ä»¬çš„htmlä»£ç ï¼Œä»£ç å†…å®¹å¦‚ä¸‹ï¼š

```html
<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>My static Space</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }
    body {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    iframe {
      width: 430px;
      height: 932px;
      border: none;
    }
  </style>
</head>
<body>
  <iframe src="https://colearn.intern-ai.org.cn/cobuild" title="description"></iframe>
</body>
</html>
```
ä¿å­˜åå°±å¯ä»¥pushåˆ°è¿œç¨‹ä»“åº“ä¸Šäº†ï¼Œå®ƒä¼šè‡ªåŠ¨æ›´æ–°é¡µé¢ã€‚

```bash
git add .
git commit -m "update: colearn page"
git push
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/ab34fbc3ecd0467298b7e6e3961aabe8.png)
å‡ºç°ä»¥ä¸‹æŠ¥é”™ï¼Œéœ€è¦ä½¿ç”¨ç”¨æˆ·çš„Access Tokenå†æ¬¡è®¾ç½®é¡¹ç›®çš„éªŒè¯ã€‚
```
remote: Password authentication in git is no longer supported. You must use a user access token or an SSH key instead. See https://huggingface.co/blog/password-git-deprecation
```

ç‚¹å‡»Settingsè¿›å…¥è®¾ç½®ç•Œé¢ï¼Œç‚¹å‡»Access Tokensè¿›å…¥é¡µé¢ï¼Œç‚¹å‡»Create new tokenåˆ›å»ºä¸€ä¸ªç±»å‹ä¸ºâ€œWriteâ€çš„tokenï¼Œå¹¶è¯·å¤åˆ¶å¥½tokenåè¦å­˜å‚¨åœ¨åˆé€‚çš„åœ°æ–¹ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/54622ea87b7f4ccea326d7f160b21a2a.png)
å†æ¬¡å°è¯•git pushæ›´æ–°é¡µé¢ã€‚

```bash
git remote set-url origin https://<user_name>:<token>@huggingface.co/<repo_path>
git push
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/ff710fc8dc704a21bf2a429dda0a58f0.png)

è¿›å…¥Spaceç•Œé¢ï¼Œå°±å¯ä»¥çœ‹åˆ°æ›´æ–°åçš„å®æˆ˜è¥é¡µé¢ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/1086a3af60f14f09a14a813e181e9ed6.png)
### ä½¿ç”¨CLIä¸Šä¼ æ¨¡å‹
é€šè¿‡CLIä¸Šä¼  Hugging FaceåŒæ ·æ˜¯è·ŸGitç›¸å…³è”ï¼Œé€šå¸¸å¤§æ¨¡å‹çš„æ¨¡å‹æ–‡ä»¶éƒ½æ¯”è¾ƒå¤§ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å®‰è£…git lfsï¼Œå¯¹å¤§æ–‡ä»¶ç³»ç»Ÿæ”¯æŒã€‚
```bash
curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | sudo bash
# sudo apt-get install git-lfs # CodeSpaceé‡Œé¢å¯èƒ½ä¼šæœ‰aptkeyå†²çªä¸”æ²¡æœ‰è¶³å¤Ÿæƒé™
git lfs install # ç›´æ¥åœ¨gitç¯å¢ƒä¸‹é…ç½®git LFS

# ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œç™»å½•ï¼Œè¿™æ—¶éœ€è¦è¾“å…¥åˆšåˆšçš„token
pip install huggingface_hub
git config --global credential.helper store
huggingface-cli login
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/40f6eb97296f4b3fa29f899b494bc5f1.png)

åˆ›å»ºé¡¹ç›®å¹¶å…‹éš†åˆ°æœ¬åœ°ï¼Œåˆ·æ–°æ–‡ä»¶ç›®å½•å¯ä»¥çœ‹åˆ°å…‹éš†å¥½çš„`intern_study_L0_4`æ–‡ä»¶å¤¹ã€‚
```bash
cd /workspaces/codespaces-jupyter

#intern_study_L0_4å°±æ˜¯model_name
huggingface-cli repo create intern_study_L0_4

# å…‹éš†åˆ°æœ¬åœ° your_huggingface_name æ³¨æ„æ›¿æ¢æˆä½ è‡ªå·±çš„
git clone https://huggingface.co/{your_huggingface_name}/intern_study_L0_4
```

æˆ‘ä»¬å¯ä»¥æŠŠè®­ç»ƒå¥½çš„æ¨¡å‹ä¿å­˜è¿›é‡Œé¢ï¼Œè¿™é‡Œè€ƒè™‘åˆ°ç½‘é€Ÿé—®é¢˜ï¼Œåªä¸Šä¼ æˆ‘ä»¬åˆšåˆšä¸‹è½½å¥½çš„config.jsonï¼ŒæŠŠå®ƒå¤åˆ¶ç²˜è´´è¿›è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œé¢ï¼Œè¿˜å¯ä»¥å†™ä¸€ä¸ªREADME.mdæ–‡ä»¶ï¼Œæ¯”å¦‚å¯ä»¥ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼š
```
# ä¹¦ç”Ÿæµ¦è¯­å¤§æ¨¡å‹å®æˆ˜è¥camp4
- hugging faceæ¨¡å‹ä¸Šä¼ æµ‹è¯•
- æ›´å¤šå†…å®¹è¯·è®¿é—® https://github.com/InternLM/Tutorial/tree/camp4
```
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/04394b73cd80423ba982764550a3a838.png)

ç°åœ¨å¯ä»¥ç”¨gitæäº¤åˆ°è¿œç¨‹ä»“åº“ã€‚
```bash
cd intern_study_L0_4
git add .
git commit -m "add:intern_study_L0_4"
git push
```
ç°åœ¨å¯ä»¥åœ¨Hugging Faceçš„ä¸ªäººprofileé‡Œé¢çœ‹åˆ°è¿™ä¸ªmodelã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/dfd13066dc0d408e8b9fbefabc15b440.png)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/d96584a27071433698fa1139f50a5a19.png)


---
